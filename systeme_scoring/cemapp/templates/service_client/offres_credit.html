{% extends base_template %}
{% load static %}
{% block content %}

<link rel="stylesheet" href="{% static 'css/info_offre.css' %}">
<link rel="stylesheet" href="{% static 'fontawesome-5/css/all.css' %}">

<div id="content">
    <div class="page-header">
        <h1><i class="fas fa-hand-holding-usd"></i> Nos Offres de Crédit</h1>
        <p class="lead"><i class="fas fa-search-dollar"></i> Découvrez nos solutions de financement adaptées à vos besoins</p>
    </div>
    
    <div id="offre_credit">
        {% for type_credit in type_credits %}
        <div class="type-credit-section">
            <div class="credit-type-header">
                <h2><i class="fas fa-{{ type_credit.icon|default:'file-invoice-dollar' }}"></i> {{ type_credit.nom }}</h2>
                <p class="type-description">{{ type_credit.description }}</p>
            </div>
            
            <div class="offres-container">
                {% for sous_type in type_credit.soustypecredit_set.all %}
                <div class="offre-card">
                    <div class="card-header">
                        <h3><i class="fas fa-{{ sous_type.icon|default:'tags' }}"></i> {{ sous_type.nom }}</h3>
                    </div>
                    <div class="card-body">
                        <div class="montant-range">
                            <span class="montant-icon"><i class="fas fa-money-bill-wave"></i></span>
                            <div>
                                <span class="montant-min">{{ sous_type.montant_min }}</span>
                                <span class="montant-separator">à</span>
                                <span class="montant-max">{{ sous_type.montant_max }}</span>
                                <span class="montant-devise">MGA</span>
                            </div>
                        </div>
                        
                        <ul class="offre-features">
                            <li>
                                <i class="feature-icon fas fa-clock"></i>
                                <span>Durée: {{ sous_type.duree_min }} - {{ sous_type.duree_max }} mois</span>
                            </li>
                            <li>
                                <i class="feature-icon fas fa-percentage"></i>
                                <span>Taux mensuel: {{sous_type.taux_interet}}%</span>
                            </li>
                            <li class="feature-description">
                                <i class="feature-icon fas fa-info-circle"></i>
                                <span>{{ sous_type.description }}</span>
                            </li>
                        </ul>
                    </div>
                    <a href="{% url 'simulation_offre' sous_type.id %}" class="simulation-btn">
                        <span>Faire une simulation</span>
                        <i class="btn-icon fas fa-arrow-right"></i>
                    </a>
                </div>
                {% endfor %}
            </div>
        </div>
        {% endfor %}
    </div>
</div>
{% endblock %}